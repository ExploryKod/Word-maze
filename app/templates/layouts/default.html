<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Tarteaucitron JS -->
    <script src="{{url_for('static',filename='tarteaucitron/tarteaucitron.min.js')}}"></script>
    <script src="{{url_for('static',filename='tarteaucitron/tarteaucitron.services.min.js')}}"></script>
    <script src="{{url_for('static',filename='tarteaucitron/flowbite.service.js')}}"></script>
    
    <!-- Initialisation de Tarteaucitron -->
    <script type="text/javascript">
    tarteaucitron.init({
        "privacyUrl": "{{ url_for('main.politique_confidentialite') }}", /* URL de la politique de confidentialité */
        "bodyPosition": "top", /* top pour l'accessibilité */
        
        "hashtag": "#tarteaucitron", /* Ouvrir le panneau avec ce hashtag */
        "cookieName": "tarteaucitron", /* Nom du cookie */
        
        "orientation": "middle", /* Position de la bannière (top - bottom - middle) */
        
        "groupServices": true, /* Grouper les services par catégorie */
        "showDetailsOnClick": true, /* Cliquer pour développer la description */
        "serviceDefaultState": "wait", /* État par défaut (true - wait - false) */
        
        "showAlertSmall": false, /* Afficher la petite bannière en bas à droite */
        "cookieslist": false, /* Afficher la liste des cookies dans une mini bannière */
        "cookieslistEmbed": false, /* Afficher la liste des cookies sur le panneau de contrôle */
        
        "closePopup": true, /* Afficher un X pour fermer la bannière */
        
        "showIcon": true, /* Afficher l'icône cookie pour gérer les cookies */
        "iconPosition": "BottomRight", /* Position de l'icône cookie (BottomRight - BottomLeft - TopRight - TopLeft) */
        
        "adblocker": false, /* Afficher un avertissement si un bloqueur de pub est détecté */
        
        "DenyAllCta": true, /* Afficher le bouton tout refuser */
        "AcceptAllCta": true, /* Afficher le bouton tout accepter */
        "highPrivacy": true, /* RECOMMANDÉ : Désactiver le consentement automatique */
        "alwaysNeedConsent": false, /* Demander le consentement pour les services "Privacy by design" */
        
        "handleBrowserDNTRequest": false, /* Si Do Not Track == 1, tout refuser */
        
        "removeCredit": false, /* Retirer le lien de crédit */
        "moreInfoLink": true, /* Afficher le lien plus d'infos */
        
        "useExternalCss": false, /* Mode expert : ne pas charger le fichier tarteaucitron.css */
        "useExternalJs": false, /* Mode expert : ne pas charger les fichiers js tarteaucitron */
        
        "readmoreLink": "{{ url_for('main.politique_confidentialite') }}", /* Lien vers la politique de confidentialité */
        
        "mandatory": true, /* Afficher un message sur les cookies obligatoires */
        "mandatoryCta": false, /* Afficher le bouton accepter désactivé quand mandatory est activé */
        
        "googleConsentMode": false, /* Activer Google Consent Mode v2 pour Google ads & GA4 */
        "bingConsentMode": false, /* Activer Bing Consent Mode pour Clarity & Bing Ads */
        "pianoConsentMode": false, /* Activer Consent Mode pour Piano Analytics */
        "softConsentMode": false, /* Mode consentement doux (le consentement est requis pour charger les services) */
        
        "dataLayer": false, /* Envoyer un événement à dataLayer avec le statut des services */
        "serverSide": false, /* Côté serveur uniquement, les tags ne sont pas chargés côté client */
        
        "partnersList": true /* Afficher le nombre de partenaires sur le popup/bannière */
    });
    </script>
    
    <!-- Compiled and minified CSS - materialize -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"> -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="{{url_for('static',filename='dist/css/output.css')}}">

    <title>Word Maze Game</title>
</head>

<body>

    <header>
        <nav class="bg-white border-gray-200 px-2 sm:px-4 py-2.5 rounded dark:bg-gray-900">
            <div class="container flex flex-wrap justify-between items-center mx-auto">
                <a href="https://github.com/ExploryKod/Word-maze" class="flex items-center">
                    <span class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Word Maze</span>
                </a>
                <div class="flex gap-x-2 md:order-2">
                    <a href="{{ url_for('auth.register') }}" type="button"
                        class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-3 md:mr-0 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Sign
                        up</a>
                    {% if fl_session is defined and fl_session['username']|length %}
                    <a href="{{ url_for('auth.logout') }}" type="button"
                       class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-3 md:mr-0 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                        Logout</a>
                    {% else %}
                    <a type="button"
                       href="{{ url_for('auth.login') }}" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-3 md:mr-0 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Login</a>
                    {% endif %}

                    <button data-collapse-toggle="navbar-cta" type="button"
                        class="inline-flex items-center p-2 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
                        aria-controls="navbar-cta" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <svg class="w-6 h-6" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20"
                            xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                                d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
                                clip-rule="evenodd"></path>
                        </svg>
                    </button>
                </div>
                <div class="hidden justify-between items-center w-full md:flex md:w-auto md:order-1" id="navbar-cta">
                    <ul
                        class="flex flex-col p-4 mt-4 bg-gray-50 rounded-lg border border-gray-100 md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700">
                        <li>
                            <a href="/"
                                class="block py-2 pr-4 pl-3 text-white bg-blue-700 rounded md:bg-transparent md:text-blue-700 md:p-0 dark:text-white"
                                aria-current="page">Home</a>
                        </li>
                        <li>
                            <a href="play/us"
                                class="block py-2 pr-4 pl-3 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 md:dark:hover:text-white dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700">About
                                us</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>


    {% block content %}{% endblock%}

    <!-- Warning Modal -->
    <div id="warning-modal" tabindex="-1" aria-hidden="true"
        class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 w-full md:inset-0 h-modal md:h-full justify-center items-center">
        <div class="relative p-4 w-full max-w-2xl h-full md:h-auto">
            <!-- Modal content -->
            <div class="relative bg-white rounded-lg shadow dark:bg-gray-800">
                <!-- Modal header -->
                <div class="py-4 px-6 rounded-t border-b dark:border-gray-600 bg-yellow-50 dark:bg-yellow-900/20">
                    <div class="flex items-center justify-between">
                        <h3 class="text-xl font-semibold text-gray-900 dark:text-white flex items-center">
                            <svg class="w-6 h-6 mr-2 text-yellow-600 dark:text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                            </svg>
                            Avertissement important
                        </h3>
                        <button type="button" id="close-warning-modal"
                            class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white">
                            <svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                    d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                                    clip-rule="evenodd"></path>
                            </svg>
                            <span class="sr-only">Close modal</span>
                        </button>
                    </div>
                </div>
                <!-- Modal body -->
                <div class="p-6">
                    <div class="mb-4 text-gray-700 dark:text-gray-300">
                        <p class="mb-4">
                            <strong>Ce site est un site de démo dans le cadre de l'apprentissage du métier de développeur.</strong>
                        </p>
                        <p class="mb-4">
                            Nous demandons donc de <strong>ne pas utiliser de données personnelles</strong> (véritable email, véritable nom, prénoms ou autre identifiants) dans l'usage du site.
                        </p>
                        <p class="mb-4">
                            L'inscription et la connexion est factice et les comptes peuvent être supprimé sans justification ni préavis à tout moment.
                        </p>
                    </div>
                    <div class="flex items-center p-4 mb-4 text-sm text-gray-700 bg-gray-100 rounded-lg dark:bg-gray-700 dark:text-gray-300">
                        <svg class="flex-shrink-0 inline w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        <div>
                            <span class="font-medium">En savoir plus :</span> Consultez nos 
                            <a href="{{ url_for('main.cgu') }}" class="font-medium text-blue-600 hover:underline dark:text-blue-500">CGU</a>, 
                            <a href="{{ url_for('main.politique_confidentialite') }}" class="font-medium text-blue-600 hover:underline dark:text-blue-500">Politique de confidentialité</a> 
                            et <a href="{{ url_for('main.mentions_legales') }}" class="font-medium text-blue-600 hover:underline dark:text-blue-500">Mentions légales</a>.
                        </div>
                    </div>
                </div>
                <!-- Modal footer -->
                <div class="flex items-center p-6 space-x-2 rounded-b border-t border-gray-200 dark:border-gray-600">
                    <button type="button" id="accept-warning-btn"
                        class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                        J'ai compris
                    </button>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 mt-8">
        <div class="max-w-screen-xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="text-sm text-gray-500 dark:text-gray-400 mb-4 md:mb-0">
                    © 2024 Word Maze - Site de démonstration
                </div>
                <div class="flex flex-wrap gap-4 text-sm">
                    <a href="{{ url_for('main.mentions_legales') }}" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300">
                        Mentions légales
                    </a>
                    <span class="text-gray-400">|</span>
                    <a href="{{ url_for('main.politique_confidentialite') }}" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300">
                        Politique de confidentialité
                    </a>
                    <span class="text-gray-400">|</span>
                    <a href="{{ url_for('main.cgu') }}" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300">
                        CGU
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Flowbite tailwind css components library (géré par tarteaucitron) -->
    <script>
    (tarteaucitron.job = tarteaucitron.job || []).push('flowbite');
    </script>
    <script>
    tarteaucitron.user.flowbite = function () {
        var script = document.createElement('script');
        script.src = 'https://unpkg.com/flowbite@1.5.3/dist/flowbite.js';
        script.async = true;
        document.head.appendChild(script);
    };
    </script>
    <script src="{{url_for('static', filename='js/script.js')}}"></script>
    <script>
        // Show warning modal on page load if not already accepted
        document.addEventListener('DOMContentLoaded', function() {
            const warningAccepted = localStorage.getItem('warningAccepted');
            if (!warningAccepted) {
                // Wait for Flowbite to be loaded
                setTimeout(function() {
                    const modal = document.getElementById('warning-modal');
                    if (modal) {
                        // Remove hidden class and add necessary classes to show modal
                        modal.classList.remove('hidden');
                        modal.setAttribute('aria-hidden', 'false');
                        
                        // Add backdrop
                        const backdrop = document.createElement('div');
                        backdrop.id = 'warning-modal-backdrop';
                        backdrop.className = 'fixed inset-0 bg-gray-900 bg-opacity-50 dark:bg-opacity-80 z-40';
                        document.body.appendChild(backdrop);
                        document.body.style.overflow = 'hidden';
                        
                        // Function to close modal
                        function closeModal() {
                            localStorage.setItem('warningAccepted', 'true');
                            modal.classList.add('hidden');
                            modal.setAttribute('aria-hidden', 'true');
                            const backdropEl = document.getElementById('warning-modal-backdrop');
                            if (backdropEl) {
                                backdropEl.remove();
                            }
                            document.body.style.overflow = '';
                        }
                        
                        // Handle accept button
                        const acceptBtn = document.getElementById('accept-warning-btn');
                        if (acceptBtn) {
                            acceptBtn.addEventListener('click', closeModal);
                        }
                        
                        // Handle close button
                        const closeBtn = document.getElementById('close-warning-modal');
                        if (closeBtn) {
                            closeBtn.addEventListener('click', closeModal);
                        }
                        
                        // Handle backdrop click
                        backdrop.addEventListener('click', closeModal);
                    }
                }, 100);
            }
        });
    </script>
</body>

</html>